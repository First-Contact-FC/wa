@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
    * {
        @apply font-sans;
    }
}

@layer components {
    //Menus - Main one uses theses classes
    .menu-container {
        pointer-events: auto;
        z-index: 900;
        @apply flex h-3/4 w-full text-white pointer-events-auto z-[900] right-0 left-0 m-auto absolute top-14;
        @apply md:w-4/5;

        .menu-nav-sidebar {
            @apply bg-dark-purple/95 rounded overflow-auto w-1/5;
        }

        .menu-submenu-container {
            border-left: 1px solid theme("colors.light-purple");
            @apply p-3 w-4/5 overflow-auto;
        }

        .menu-item-container {
            @apply flex flex-row items-center justify-between py-0 px-3 transition-colors duration-300;
        }

        .menu-item {
            @apply bg-transparent h-12 font-sans font-bold text-sm items-center pl-1 text-white align-middle text-left break-words outline-none;
            @apply md:text-base md:pl-3 md:mr-1;
        }

        .menu-item-container:hover,
        .active {
            @apply bg-light-purple clickable;

            .menu-icon {
                @apply brightness-125;
            }
        }
    }

    .menu-icon {
        @apply h-3 p-0.5 invisible md:visible;
    }

    //Buttons - basic buttons appearance
    button,
    .btn {
        @apply border-none rounded min-h-['8px'] px-1 py-1 mx-0.5 my-1 items-center flex no-underline transition-colors duration-300 break-words;
        @apply md:px-4;
        * {
            @apply clickable;
        }
    }

    button {
        @apply border-none bg-transparent text-white;
    }
    .btn:hover,
    button:hover {
        @apply no-underline;
        filter: brightness(1.25);
    }
    .resizing-width {
        @apply w-3/4 md:w-1/2 lg:w-1/3;
    }

    .resizing-text {
        @apply text-sm md:text-base;
    }

    //Dialog boxes used to notify user about something (follow feature, jitsi room, etc...)
    .blue-dialog-box {
        @apply bg-dark-purple/95 rounded text-light-blue self-center m-1 p-1 align-middle align-middle;
    }
    //form
    .form-textarea {
        @apply flex-1 text-sm ml-2 bg-transparent outline-0 focus:ring-0 mb-0 min-h-[35px] border-0 resize-none placeholder:italic placeholder:text-light-purple;
    }

    .wa-seachbar {

    }

    .outline-light {
        @apply border-light-blue border-solid border;
    }

    .wa-chat-item{
        @apply flex px-6 py-2 items-center cursor-pointer text-white hover:no-underline hover:text-white;
        &:hover{
            background-color: rgba(#4D4B67, .24);
        }

        *{
            cursor: pointer;
        }
    }

    .wa-avatar{
        @apply w-9 h-9 rounded-xl border-2 border-lighter-purple border-solid;
        .wa-container{
            @apply rounded-xl overflow-hidden w-full h-full;
            img {
                margin-top: 6px;
            }
        }
    }

    .wa-avatar-mini{
        @apply w-8 h-8 rounded-xl border border-lighter-purple border-solid overflow-hidden;
        min-height: 30px;
        min-width: 30px;
        width: 30px;
        height: 30px;

        .wa-container{
            @apply rounded-xl overflow-hidden w-full h-full mt-1;
            img {
                width: 100%;
                height: auto;
            }
        }
    }

    .wa-dropdown{
        @apply relative bg-dark-purple/95 rounded;

        button{
            @apply bg-dark-purple/95;
        }

        &-menu{
            @apply bg-dark-purple/95 absolute right-0 z-20 min-w-[150px] shadow-lg border rounded flex flex-col border-solid font-medium text-white border-light-purple text-xs;
        }

        &-item{
            @apply cursor-pointer px-2 py-2 hover:bg-light-purple;
        }
    }

    .wa-separator{
        &::before{
            left: -5px;
        }
        &::after{
            right: -5px;
        }
        @apply before:content-[''] before:absolute before:top-1/2 before:w-1/3 before:h-px before:bg-lighter-purple after:content-[''] after:absolute after:top-1/2 after:w-1/3 after:h-px after:bg-lighter-purple text-light-purple-alt text-xs uppercase text-center relative mt-2;
    }

    .wa-action{
        @apply px-2 py-0.5 text-xs cursor-pointer text-pop-red border-pop-red border-pop-red border border-solid;
        min-height: 0 !important;
        &:hover{
            @apply bg-pop-red text-dark-purple;
        }
    }

    .wa-thread-head{
        @apply wa-message-bg border border-transparent border-b-light-purple border-solid flex justify-between items-center px-1 border-t-0 fixed w-full z-20;
    }

    .wa-message-form {
        position: fixed;
        bottom: 0;
        width: 100%;
        z-index: 2;

        //background: rgb(27,27,41);
        //background: linear-gradient(0deg, rgba(27,27,41,1) 0%, rgba(27,27,41,1) 90%, rgba(27,27,41,0) 100%);

        form {
            display: flex;
            padding-left: 4px;
            padding-right: 4px;

            div.typing span {
                font-style: italic;
                white-space: nowrap;
                margin: 0 2px;
            }

            textarea {
                @apply flex-1 text-sm ml-2 bg-transparent outline-1 focus:ring-1 mb-0 min-h-[35px] resize-none border-0 placeholder:italic placeholder:text-light-purple rounded-3xl bg-dark-purple/95;
                margin-bottom: 0;
                margin-left: 0;
                border-color: #4d4b67;
                max-height: 90vh;
            }
        }
    }

    .wa-messages-list-container{
        @apply overflow-x-scroll mb-10;
        max-height: calc( 100vh - 2.8rem );
        -webkit-mask-image: linear-gradient(180deg, black 0%, black 97%, transparent 100%);
        mask-image: linear-gradient(180deg, black 0%, black 97%, transparent 100%);
        -ms-overflow-style: none;
        scrollbar-width: none;
        &::-webkit-scrollbar {
            display: none;
        }

        .wa-messages-list{
            @apply pb-6;
            min-height: calc(100vh - 2.8rem);
        }

        p span.nice-a{
            @apply whitespace-pre-line break-words;
            max-width: 100%;
            a {
                img{
                    @apply mr-1;
                    max-width: 20px;
                    max-height: 20px;
                    display: inline-block;
                }
                @apply text-light-blue;
                max-width: calc(100% - 25px - 0.25rem);
                &:hover {
                    opacity: 0.8;
                }
            }
        }
    }

    .wa-message-bg {
        background: rgba(27,27,41, .79);
    }
}

@layer utilities {
    input[type="text"],
    input[type="password"],
    input[type="email"],
    input[type="number"],
    input[type="url"],
    input[type="date"],
    input[type="datetime-local"],
    input[type="month"],
    input[type="week"],
    input[type="time"],
    input[type="search"],
    input[type="tel"],
    select,
    textarea,
    textarea[type="text"] {
        @apply bg-dark-blue text-white border-light-purple rounded-lg focus:border-lighter-purple focus:ring-lighter-purple mb-5 transition-all duration-300;
        @apply placeholder:text-lighter-purple;
    }

    input[type="checkbox"],
    input[type="radio"] {
        @apply border-light-purple text-light-purple focus:border-lighter-purple focus:ring-lighter-purple transition-all duration-150;
    }

    input[type="checkbox"] {
        @apply rounded;
    }

    .blue-title {
        @apply text-light-blue font-sans text-base font-normal;
    }

    button,
    .btn {
        &.light,
        &.dark,
        &.outline,
        &.disabled,
        &.danger {
            @apply min-h-10;
        }

        &.light {
            @apply bg-light-blue text-dark-purple;
        }

        &.dark {
            @apply bg-dark-purple text-light-blue;
        }

        &.outline {
            @apply bg-transparent text-light-blue border border-light-blue border-solid;
        }

        &.outline:hover {
            @apply bg-light-blue text-dark-purple;
            .darken-icon {
                @apply brightness-0;
            }
        }

        &.disabled {
            @apply bg-grey text-dark-purple cursor-not-allowed opacity-60;
        }

        &.danger {
            @apply bg-pop-red text-dark-purple;
        }

        &.close,
        &.close-window {
            @apply bg-pop-red text-white ring-1 ring-dark-blue absolute right-5 px-0 py-0 h-6 w-6 justify-center;
            &#cowebsite-close{
                position: initial;
                @apply text-3xl;
            }
        }
    }

    section {
        @apply mb-4 p-2 h-full;
        .bottom-separator {
            border-bottom: 1px solid theme("colors.light-purple");
        }
    }

    .centered-column {
        @apply flex flex-col items-center;
    }

    .tooltip {
        @apply relative inline-block;
    }

    .tooltip .tooltiptext {
        @apply bg-medium-purple text-white text-center items-center px-3 py-5 rounded bottom-full absolute invisible;
    }

    .tooltip:hover .tooltiptext {
        @apply visible;
    }

    .tooltip .tooltiptext::after {
        content: "";
        @apply absolute border-solid top-full left-10;
        margin-left: -5px;
        border-width: 5px;
        border-color: theme("colors.medium-purple") theme("colors.transparent") theme("colors.transparent")
        theme("colors.transparent");
    }

    .clickable,
    .clickable:hover {
        cursor: url("./images/cursor_pointer.png"), pointer;
    }


    ::-webkit-scrollbar {
        @apply w-1;
    }

}


.loading{
    &-group{
        display: flex;
        align-items: center;
        justify-content: center;
    }

    &-dot{
        $r: 8px;
        width: $r;
        height: $r;
        content: '';
        display: block;
        background: white;
        animation: loader .6s ease infinite alternate;
        border-radius: 50%;
        margin-right: 5px;

        &:nth-child(2){
            animation-delay: .3s;
        }

        &:nth-child(3){
            animation-delay: .6s;
            margin-right: 0;
        }
    }
}

@keyframes loader {
    from {
        opacity: 1;
    }
    to{
        opacity: .2;
    }
}
